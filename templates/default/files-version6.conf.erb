# This file was generated by Chef

$ModLoad imfile
$InputFilePollInterval <%= node.loggly.rsyslog.input_file_poll_interval %>

<%- @log_files.each do |logfile| -%>
# Input for <%= logfile['filename'] %>
$InputFileName <%= logfile['filename'] %>
$InputFileTag <%= logfile['tag'] %>
$InputFileStateFile <%= logfile['statefile'] %> # This must be unique for each file being polled
<%- if logfile.key?('severity') -%>
$InputFileSeverity <%= logfile['severity'] %>
<%- end %>
$InputFilePersistStateInterval 20000
$InputRunFileMonitor
<%- end -%>
